<!-- This index.html loads Main page of application
	and provides navigation between Main, Scoreboard,
	Login and Game pages -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/css/main.css"/>
	<title>Epic Game</title>
</head>
<body>
    <div id="page"></div>

    <!-- Livereload -->
    <script src="//localhost:35729/livereload.js"></script>

	<!-- Local jQuery -->
	<!-- <script src="/js/lib/jquery-1.11.2.js"></script> -->

    <!-- jQuery from google API libraries-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>


	<script src="/js/tmpl/main.js"></script>
	<script src="/js/tmpl/scoreboard.js"></script>
	<script src="/js/tmpl/game.js"></script>
	<script src="/js/tmpl/login.js"></script>


	<script type="text/javascript">
		var $page = $('#page'),
			currentScreen = 'main';

		// "Scoreboard" constructor
		function showScoreboardScreen() {
		    hideMainScreen();
		    currentScreen = 'scoreboard';
		    $page.html(scoreboardTmpl());
		    $page.find('.js-back').on('click', showMainScreen);
		}

		// "Scoreboard" destructor
		function hideScoreboardScreen() {
			$page.find('.js-back').off('click', showMainScreen);
		}
		
		// "Game" constructor
		function showGameScreen() {
		    hideMainScreen();
		    currentScreen = 'game';
		    $page.html(gameTmpl());
		    $page.find('.js-back').on('click', showMainScreen);
		}

		// "Game" destructor
		function hideGameScreen() {
			$page.find('.js-back').off('click', showMainScreen);
		}

		// "Login" constructor
		function showLoginScreen() {
		    hideMainScreen();
		    currentScreen = 'login';
		    $page.html(loginTmpl());
		    $page.find('.js-back').on('click', showMainScreen);
		}

		// "Login" destructor
		function hideLoginScreen() {
			$page.find('.js-back').off('click', showMainScreen);
		}

		//	"Main" constructor
		function showMainScreen() {
		    $page.html(mainTmpl()); 	// Render template "main.js"
		    // Event handlers
		    $page.find('.js-scoreboard').on('click', showScoreboardScreen);
		    $page.find('.js-start-game').on('click', showGameScreen);
		    $page.find('.js-login').on('click', showLoginScreen);
		}

		// "Main" destructor
		function hideMainScreen() {
			// Destroy event handlers
		    $page.find('.js-scoreboard').off('click', showScoreboardScreen);
		    $page.find('.js-start-game').off('click', showGameScreen);
		    $page.find('.js-login').off('click', showLoginScreen);
		}
		showMainScreen();
	</script>
</body>
</html>
